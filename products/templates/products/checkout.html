{% extends "base.html" %}
{% load static %}
{% block title %}Checkout{% endblock title %}

{% block content %}
<div class="mx-auto mt-8 flex w-9/12">
  <!-- Order Form -->
  <div class="bg-white rounded p-6 mr-2">
    <p class="title-h1 mb-4">Order details</p>
    <form method="POST" class="user-form">
      {% csrf_token %}

      <p class="font-semibold">1 Customer info</p>
      <div class="mx-4">
        <label>First name</label>
        <div class="text-red-500">{{order_form.first_name.errors.0}}</div>
        {{order_form.first_name}}

        <label>Last name</label>
        <div class="text-red-500">{{order_form.last_name.errors.0}}</div>
        {{order_form.last_name}}

        <label>Email</label>
        <div class="text-red-500">{{order_form.email.errors.0}}</div>
        {{order_form.email}}

        <label>Mobile</label>
        <div class="text-red-500">{{order_form.mobile.errors.0}}</div>
        {{order_form.mobile}}
      </div>

      <p class="font-semibold">2 Delivery info</p>

      <div class="mx-4">
        <label>Country</label>
        <div class="text-red-500">{{order_form.country.errors.0}}</div>
        {{order_form.country}}

        <label>City</label>
        <div class="text-red-500">{{order_form.citu.errors.0}}</div>
        {{order_form.city}}

        <label>Address</label>
        <div class="text-red-500">{{order_form.address.errors.0}}</div>
        {{order_form.address}}
      </div>

      <p class="font-semibold">3 Payment info</p>
      <div class="mx-4">
        <label>Name on card</label>
        <div class="text-red-500">{{order_form.name.errors.0}}</div>
        {{order_form.name}}

        <label>Credit Card Number</label>
        <div class="text-red-500">{{order_form.number.errors.0}}</div>
        {{order_form.number}}


        <label>Expiry Date</label>
        <div class="text-red-500">{{order_form.expiry_date.errors.0}}</div>
        {{order_form.expiry_date}}


        <label>Security code</label>
        <div class="text-red-500">{{order_form.security_code.errors.0}}</div>
        {{order_form.security_code}}
        

      </div>

      <button id="complete-purchase" type="submit" class="purple-btn" {% if not request.session.totalprice %} disabled {%endif%}>
        <i class="fas fa-shopping-cart"></i>
        <span>Complete purchase</span>
      </button>
    </form>
  </div>
  <!-- Shopping cart -->
  <div class="bg-white rounded p-6" >
    <p class="title-h1 text-2xl">Shopping Cart</p>

    {% include "products/cart.html" %}
  </div>
</div>
{% endblock content %}

{% block javascript %}
  <script src="{% static 'js/checkout.js' %}"></script>
{% endblock javascript %}
