{% load products.productfilters %}

<div class="grid desktop:grid-cols-5 landscapetablet:grid-cols-3 phone:grid-cols-2 gap-3">
  {% for product in products %}
    <div
      id="product-{{ product.id }}"
      class="bg-white rounded-lg p-3">
      <a href="{% url 'products:details' product.id %}" class="flex h-48 justify-center">
        <img src="{{ product.image.url|formaturl }}" class="max-h-48 self-center"/>
      </a>
      <p class="title-h1">${{ product.price }}</p>
      <a
        href="{% url 'products:details' product.id %}"
        class="block truncate text-color text-lg font-semibold"
        >{{ product.name }}</a>
   
      {% with rating=product.get_avg_rating %}
        <span class="text-xs">
          {% include "products/ratingTemplate.html" %}
        </span>
      {% endwith %}
    </div>
  {% endfor %}
</div>