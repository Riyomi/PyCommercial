<nav class="flex flex-wrap background-color justify-between p-3 laptop:p-6 filter drop-shadow-lg">
  <a href="{% url 'products:home' %}" class="hidden laptop:flex laptop:flex-shrink-0 laptop:items-center text-white text-2xl font-semibold ml-4 mr-20">PyCommercial</a>

  <div class="flex flex-grow items-center">
    <div class="hidden laptop:flex flex-grow">
      <a href="{% url 'products:browse' %}" class="navbar-menu text-center">Browse</a>
      <a href="#" class="navbar-menu">Stores</a>
      <a href="#" class="navbar-menu">About Us</a>
    </div>

    <div id="mobiledropdown" class="flex flex-grow items-center laptop:hidden text-white">
      <svg class="h-6 w-6 block" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
        <path id="menuIcon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
      <span class="ml-2">Menu</span>
    </div>
    <div>
      <a id="dropbtncart" onclick="openMenu(this.id)">
        <span id="badge-count" class="badge {% if request.session.cartdata %} inline-flex {% endif %}">
          {{ request.session.totalitems }}
        </span>
        <i class="fas fa-shopping-cart"></i>
        <span class="pl-1">Cart</span>
      </a>

      <div id="cartDropDown" class="hidden cart-dropdown">
        {% include "products/cart.html" %}
      </div>

      {% if request.user.is_authenticated %}
        <div class="inline-block px-4">
          <button
            id="dropbtn"
            onclick="openMenu(this.id)"
            class="
              text-white
              focus:outline-none"
          >
            <i class="fas fa-user-circle"></i>
            <span class="pl-1">{{ request.user }}</span>
          </button>

          <div id="accountDropDown" class="hidden">
            <a href="{% url 'users:profile' %}">Account</a>
            <a href="{% url 'users:logout' %}">Logout</a>
          </div>
          
        </div>
      {% else %}
        <a href="{% url 'users:login' %}" class="navbar-menu pr-4 pl-2">
          <i class="fas fa-sign-in-alt"></i>
          <span class="pl-1">Login</span>
        </a>
      {% endif %}
    </div>
  </div>
</nav>

<div id="mobileDropDownMenu" class="flex flex-col background-color text-white hidden">
  <a href="{% url 'products:home' %}" class="px-4 py-2">Home</a>
  <a href="{% url 'products:browse' %}" class="px-4 py-2">Browse</a>
  <a href="#" class="px-4 py-2">Stores</a>
  <a href="#" class="px-4 py-2">About Us</a>
</div>
